<app-navbar></app-navbar>
<div class="form-container">
  <div class="form-content">
    <h3 class="form-title">Edit Employee</h3>
    <form [formGroup]="employeeForm" (ngSubmit)="onSubmit()">
      <!-- First Name & Last Name in one row -->
      <div class="form-row">
        <div class="form-group">
          <label>First Name</label>
          <input type="text" class="form-input" formControlName="first_name" />
          <small
            class="error-message"
            *ngIf="
              employeeForm.get('first_name')?.touched &&
              employeeForm.get('first_name')?.invalid
            "
          >
            First name is required.
          </small>
        </div>
        <div class="form-group">
          <label>Last Name</label>
          <input type="text" class="form-input" formControlName="last_name" />
          <small
            class="error-message"
            *ngIf="
              employeeForm.get('last_name')?.touched &&
              employeeForm.get('last_name')?.invalid
            "
          >
            Last name is required.
          </small>
        </div>
      </div>

      <!-- Email & Gender in one row -->
      <div class="form-row">
        <div class="form-group">
          <label>Email</label>
          <input type="email" class="form-input" formControlName="email" />
          <small
            class="error-message"
            *ngIf="
              employeeForm.get('email')?.touched &&
              employeeForm.get('email')?.hasError('required')
            "
          >
            Email is required.
          </small>
          <small
            class="error-message"
            *ngIf="
              employeeForm.get('email')?.touched &&
              employeeForm.get('email')?.hasError('email')
            "
          >
            Enter a valid email address.
          </small>
        </div>
        <div class="form-group">
          <label>Gender</label>
          <select class="form-input" formControlName="gender">
            <option value="">Select...</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
          </select>
          <small
            class="error-message"
            *ngIf="
              employeeForm.get('gender')?.touched &&
              employeeForm.get('gender')?.invalid
            "
          >
            Gender is required.
          </small>
        </div>
      </div>

      <!-- Designation & Department in one row -->
      <div class="form-row">
        <div class="form-group">
          <label>Designation</label>
          <input type="text" class="form-input" formControlName="designation" />
          <small
            class="error-message"
            *ngIf="
              employeeForm.get('designation')?.touched &&
              employeeForm.get('designation')?.invalid
            "
          >
            Designation is required.
          </small>
        </div>
        <div class="form-group">
          <label>Department</label>
          <input type="text" class="form-input" formControlName="department" />
          <small
            class="error-message"
            *ngIf="
              employeeForm.get('department')?.touched &&
              employeeForm.get('department')?.invalid
            "
          >
            Department is required.
          </small>
        </div>
      </div>

      <!-- Salary & Date of Joining in one row -->
      <div class="form-row">
        <div class="form-group">
          <label>Salary</label>
          <input type="number" class="form-input" formControlName="salary" />
          <small
            class="error-message"
            *ngIf="
              employeeForm.get('salary')?.touched &&
              employeeForm.get('salary')?.hasError('required')
            "
          >
            Salary is required.
          </small>
          <small
            class="error-message"
            *ngIf="
              employeeForm.get('salary')?.touched &&
              employeeForm.get('salary')?.hasError('min')
            "
          >
            Minimum salary is 1000.
          </small>
        </div>
        <div class="form-group">
          <label>Date of Joining</label>
          <input
            type="date"
            class="form-input"
            formControlName="date_of_joining"
          />
          <small
            class="error-message"
            *ngIf="
              employeeForm.get('date_of_joining')?.touched &&
              employeeForm.get('date_of_joining')?.invalid
            "
          >
            Date of joining is required.
          </small>
        </div>
      </div>

      <!-- Photo URL -->
      <div class="form-group">
        <label>Photo URL (optional)</label>
        <input
          type="text"
          class="form-input"
          formControlName="employee_photo"
          (input)="updatePreview()"
          placeholder="https://example.com/photo.jpg"
        />
      </div>

      <!-- Photo Preview -->
      <div class="form-group" *ngIf="photoPreview">
        <label>Preview:</label>
        <img [src]="photoPreview" alt="Profile Preview" class="img-thumbnail" />
      </div>

      <!-- Button Row -->
      <div class="button-group">
        <button
          type="submit"
          class="btn btn-primary"
          [disabled]="employeeForm.invalid"
        >
          Update
        </button>
        <button
          type="button"
          class="btn btn-secondary"
          (click)="router.navigate(['/employees'])"
        >
          Cancel
        </button>
      </div>
    </form>
  </div>
</div>
